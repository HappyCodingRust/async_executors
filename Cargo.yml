package:

  # When releasing to crates.io:
  #
  # - Update CHANGELOG.md.
  # - Update version numbers in Cargo.yml, Cargo.toml, install section of readme.
  # - verify CI result
  # - test dependent crates
  # - cargo publish
  # - merge dev branch into master
  # - create git tag
  #
  version       : 0.0.0
  name          : async_executors
  authors       : [ Naja Melan <najamelan@autistici.org> ]
  description   : Abstract over different executors.
  documentation : https://docs.rs/async_executors
  repository    : https://github.com/najamelan/async_executors
  readme        : README.md
  keywords      : [async, executor, futures]
  categories    : [asynchronous, concurrency]
  license       : Unlicense
  edition       : "2018"

  metadata:
    docs:
      rs:
        features: [ external_doc ]


# Please see the readme for details.
#
features:

  # The `notwasm` feature only exists so that cargo test doesn't try to compile the examples when testing
  # wasm.
  #
  default   : [ notwasm ]

  # Enables the juliex threadpool executor. Not available on WASM.
  #
  juliex    : [ juliex_crate ]

  # Enables the async-std task executor. Not available on WASM.
  #
  async_std : [ async_std_crate ]

  # Enables the tokio current_thread executor. Not available on WASM.
  #
  tokio_ct  : [ tokio-executor/current-thread ]

  # Enables futures::executor::LocalPool. If no other executors are enabled, this one will be enabled
  # by default. Not available on WASM. This is provided by the futures library on which we depend anyways,
  # so enabling this will not pull in extra dependencies.
  #
  localpool : []

  # Enables futures::executor::ThreadPool. If no other executors are enabled, this one will be enabled
  # by default. Not available on WASM. This is provided by the futures library on which we depend anyways,
  # so enabling this will not pull in extra dependencies.
  #
  threadpool : []

  # Enables the wasm-bindgen-futures executor. Only available on WASM. If no other executors are enabled
  # this will be enabled by default. Currently the only executor available on WASM, so it makes no sense
  # for it not to be enabled, and it's providing dependency wasm-bindgen-futures will always be compiled
  # in.
  #
  bindgen   : [ wasm-bindgen-futures ]

  # only used internally, don't use
  #
  notwasm: []

  external_doc: []


badges:

  maintenance : { status     : actively-developed       }
  travis-ci   : { repository : najamelan/async_executors }


dependencies:

  futures-preview     : { version: ^0.3.0-alpha, features: [std], default-features: false }
  juliex_crate        : { version: ^0.3.0-alpha, optional: true, package: juliex          }
  async_std_crate     : { version: ^0.99       , optional: true, package: async-std       }
  tokio-executor      : { version: ^0.2.0-alpha, optional: true, default-features: false  }

  # necessary for the crate to compile for `cargo doc`
  #
  wasm-bindgen-futures: { version: ^0.4, optional: true }

dev-dependencies:

  pretty_assertions : ^0.6

  # log               : ^0.4
  # flexi_logger      : ^0.11
